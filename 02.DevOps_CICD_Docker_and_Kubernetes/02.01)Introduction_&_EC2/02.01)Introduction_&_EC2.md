# Part 1
---
## AWS EC2 — Beginner-friendly Step-by-step Notes

> Clean, logical, and detailed reference for later. Follow each numbered step. Where commands appear, run them on the instance terminal (SSH). This guide assumes you have an AWS account and basic comfort with a terminal.

---

## Table of contents

1. What is DevOps?
2. What is EC2?
3. Minimum prerequisites
4. IAM (users & groups) — safe setup
5. Launching an EC2 instance (Ubuntu, free tier)
6. Connecting to your instance (SSH)
7. Basic server setup (Node.js example)
8. Secure copy (SCP) — upload project files
9. Security groups and opening ports
10. Important commands quick reference
11. Common troubleshooting
12. Best security practices and next steps

---

## 1. What is DevOps?

**DevOps** is a set of practices and cultural philosophies that unites software development (Dev) and IT operations (Ops). The goal is to shorten the development lifecycle, deliver features, fixes, and updates frequently and reliably, and automate repetitive tasks. Key ideas:

* Continuous Integration / Continuous Delivery (CI/CD)
* Infrastructure as Code (IaC)
* Monitoring, logging, and observability
* Collaboration between teams and automation of deployments

## 2. What is EC2?

**Amazon EC2 (Elastic Compute Cloud)** provides resizable virtual servers in the cloud. You launch an EC2 "instance" (a virtual machine), choose the operating system (AMI), select CPU/memory (instance type), and configure networking and storage. Use cases: web servers, application servers, development environments, batch jobs, and more.

## 3. Minimum prerequisites

* An AWS account with access to the AWS Management Console.
* A browser to open the console and a local terminal/SSH client (macOS/Linux built-in; on Windows use Windows Terminal / Git Bash / PuTTY).
* A local folder with the files you want to deploy (e.g., `server.js`, `package.json`).
* Basic terminal familiarity: `cd`, `ls`, `mkdir`, editing files (nano/vi).

## 4. IAM (users & groups) — safe setup

**Goal:** create non-root users and a group for EC2 access. Never perform daily tasks from the root account.

Step-by-step:

1. Open the AWS Console and go to **IAM** (Identity and Access Management).
2. **Create a group**:

   * In the left menu choose **User groups** → **Create group**.
   * Name the group (e.g., `ec2-admins`).
   * Attach permissions: attach the managed policy **AmazonEC2FullAccess** if you need full EC2 management permission. If you only need to allow specific actions, follow least privilege and select narrower policies or create a custom policy.
   * Create the group.
3. **Create a user**:

   * Go to **Users** → **Add users**.
   * Give the username (e.g., `dev1`).
   * Choose access type(s):

     * **Console access** — if the person needs to sign into the AWS Console. Enable and set a password if needed.
     * **Programmatic access** — if they need access keys for SDK/CLI usage. Only enable if necessary.
   * Add the new user to the group you created (`ec2-admins`).
   * Finish and **save** the created user credentials (console sign-in link, username, password, access key ID, secret access key) securely. **Do not share root credentials.**
4. **Security credentials**:

   * For console users: note the sign-in URL shown after creation. Store passwords securely or require password reset on first sign-in.
   * For programmatic users: download the access key pair once and store securely. Rotate keys periodically.

**Best practice:** operate with least privilege. Prefer IAM roles attached to EC2 instances when the instance itself needs AWS permissions (instead of embedding keys on the instance).

## 5. Launching an EC2 instance (Ubuntu, free tier)

Step-by-step from the AWS Console:

1. In the Console, go to **Services** → **EC2**.
2. Choose **Region** in the top-right. For example, **Asia Pacific (Mumbai)** if you want that region. Instances live in a region — select the region closest to your users.
3. **Instances** → **Launch instances**.
4. General settings:

   * **Name**: give the instance a meaningful name (e.g., `my-node-server`).
   * **Application and OS images (AMI)**: choose an Ubuntu Server LTS (e.g., `Ubuntu 22.04 LTS`) if you prefer Ubuntu.
   * **Instance type**: choose a free-tier eligible instance like `t2.micro` or `t3.micro` if available. These have limited CPU/memory but are free tier eligible.
5. **Key pair (login)**:

   * Create a new key pair or use an existing one. If creating new, download the `.pem` file and keep it safe — this is your SSH private key.
   * If you lose it, you cannot SSH into the instance unless you create a new AMI or use the instance console features.
6. **Network settings**:

   * A new security group may be created. By default many templates create SSH (port 22) open to your IP. Review inbound rules before launching.
7. **Storage**: accept the default (8–30 GB) for small apps. Adjust if needed.
8. **Launch** the instance.

Notes:

* The console will show the instance starting. Wait until the instance state is **running** and the **Status checks** pass.

## 6. Connecting to your instance (SSH)

From the EC2 Console:

1. **Instances** → select your instance.
2. Click **Connect** → **SSH client** tab.
3. The console shows the recommended SSH command, e.g.:

```bash
chmod 400 /path/to/your-key.pem
ssh -i "/path/to/your-key.pem" ubuntu@<PUBLIC_IP_OR_DNS>
```

Step-by-step explanation:

1. **Set secure permissions for the key**: `chmod 400 key.pem` — SSH requires the private key to be readable only by your account.
2. **SSH username varies by AMI**:

   * Ubuntu AMIs: `ubuntu@`
   * Amazon Linux: `ec2-user@`
   * CentOS: `centos@`
   * RHEL: `ec2-user@` or `root@` depending on image
3. Example full flow on your local terminal:

```bash
cd ~/keys
chmod 400 my-aws-key.pem
ssh -i my-aws-key.pem ubuntu@3.101.12.34
```

4. If you see `Permission denied (publickey)` check:

   * You're using the correct key pair for that instance.
   * The key has correct permissions (`chmod 400`).
   * The username is correct for the AMI.

After successful login you'll see the remote shell prompt — you are now connected.

## 7. Basic server setup (Node.js example)

Once connected via SSH you can set up a simple Node.js app.

1. **Update the system packages**:

```bash
sudo apt update
sudo apt upgrade -y
```

2. **Install Node.js and npm** (simple approach):

```bash
sudo apt install -y nodejs npm
node --version
npm --version
```

*Note:* The Ubuntu repositories sometimes have older Node versions. For newer versions, use NodeSource or nvm (optional for advanced users).

3. **Create your project directory**:

```bash
mkdir -p ~/project
cd ~/project
```

4. **Create a minimal server** (example only). Save this as `server.js` on your local machine and either create it directly on the instance using `nano server.js` or upload it with `scp` (see next section).

**Minimal Express server example (if you want Express):**

```javascript
// server.js
const express = require('express');
const app = express();
const port = process.env.PORT || 3000;
app.get('/', (req, res) => res.send('Hello world from EC2'));
app.listen(port, () => console.log(`Server listening on ${port}`));
```

5. **Install dependencies & run**:

```bash
npm init -y
npm install express
node server.js
```

* `node server.js` runs the server in the foreground. For production or long-running processes, use a process manager (pm2) or a systemd service.

6. **Run in background with pm2 (recommended for beginners to keep process alive)**:

```bash
sudo npm install -g pm2
pm2 start server.js --name my-node-server
pm2 save
pm2 startup    # follow printed instructions to enable startup on reboot
```

## 8. Secure copy (SCP) — upload project files

From your *local machine* you can copy files to the instance using `scp`.

Examples (run from your local terminal in the folder with the files):

```bash
scp -i "my-aws-key.pem" ./server.js ubuntu@3.101.12.34:/home/ubuntu/project/server.js
scp -i "my-aws-key.pem" ./package.json ubuntu@3.101.12.34:/home/ubuntu/project/package.json
scp -i "my-aws-key.pem" ./package-lock.json ubuntu@3.101.12.34:/home/ubuntu/project/package-lock.json
```

Notes:

* Ensure destination directory exists (`/home/ubuntu/project`). If not, create it on the instance first (`mkdir -p ~/project`).
* Replace `3.101.12.34` with your instance public IP or public DNS.

To view the file content on the instance:

```bash
cat /home/ubuntu/project/server.js
```

After upload, SSH into the instance, `cd ~/project` then `npm install` and `node server.js` or `pm2 start server.js`.

## 9. Security groups and opening ports

Security groups are the EC2 firewall. When you launch an instance, one or more security groups determine which inbound traffic is allowed.

**To allow HTTP/HTTPS and custom ports:**

1. In the EC2 Console → Instances → click the instance → in the **Description** panel find **Security groups** → click the group name.
2. **Inbound rules** → **Edit inbound rules**.
3. Add rules as needed:

   * **SSH** (TCP 22) — source: your IP only (e.g., `203.0.113.0/32`) — *recommended*.
   * **HTTP** (TCP 80) — source: `0.0.0.0/0` and `::/0` for IPv6.
   * **HTTPS** (TCP 443) — source: `0.0.0.0/0`.
   * **Custom TCP** — for your app port (e.g., 3000) — source `0.0.0.0/0` if public access required.

**Important notes:**

* Restrict SSH (port 22) to your IP address where possible. Leaving SSH open to the world is a security risk.
* If you open a custom port (e.g., 3000), you'll reach your app with `http://<PUBLIC_IP>:3000` in the browser.
* Using `https://<IP>:port` only works if you have TLS configured on that port (certificate installed). For normal testing use `http://` unless you configure SSL with Nginx + Certbot or use a load balancer with SSL.

## 10. Important commands quick reference

Run these on the instance (remote shell) or locally as indicated.

**Instance setup & node**

* `sudo apt update` — refresh package lists
* `sudo apt upgrade -y` — upgrade installed packages
* `sudo apt install -y nodejs npm` — install Node and npm
* `node --version` / `npm --version`
* `mkdir -p ~/project` / `cd ~/project`

**File & process management**

* `ls` / `cd` / `pwd` / `cat file` / `nano file` or `vi file`
* `chmod 400 key.pem` — secure the private key locally before SSH
* `scp -i key.pem file ubuntu@IP:/home/ubuntu/project/` — copy file to instance
* `pm2 start server.js --name name` — run node app in background
* `pm2 status` / `pm2 logs name`

**Networking & firewall**

* `sudo ufw status` — check UFW firewall status (Ubuntu)
* `sudo ufw allow 22` / `sudo ufw allow 3000` — allow a port via UFW (if using UFW)
* `curl http://localhost:3000` — test server locally on the instance

## 11. Common troubleshooting

* **Can't SSH (permission denied)**: check `chmod 400` on the .pem, correct username for AMI, and that the key pair matches the instance.
* **Instance shows Running but no response on port**: security group may not allow that port; check inbound rules.
* **404 or empty response in browser**: server may be running on localhost only or bound to `127.0.0.1`. Make sure your app binds to `0.0.0.0` or the public interface, or use a reverse proxy.
* **`npm install` errors**: ensure `node` and `npm` versions are compatible; check logs for missing build tools.

## 12. Best security practices & next steps

* **Never use the root AWS account** for daily tasks. Create IAM users with least privilege.
* **Rotate credentials** and remove unused access keys.
* **Restrict SSH** to your IP via security group.
* **Use IAM roles** for EC2 when the instance needs AWS permissions (S3, SSM, etc.) — this avoids storing credentials on the instance.
* **Use a process manager** (pm2 or systemd) to keep apps running and automatically restart on failure.
* **Consider a reverse proxy** (Nginx) and Let’s Encrypt (Certbot) for HTTPS in production.
* **Back up** important data and use AMIs or EBS snapshots for recovery.
* **Monitor** instance health and logs (CloudWatch) and enable CloudWatch alarms for important metrics.

---

### Short checklist (copy this and tick while doing):

* [ ] Create IAM group & user (no root)
* [ ] Create / download key pair (.pem)
* [ ] Launch EC2 instance (choose region, AMI, instance type)
* [ ] Configure security group (allow SSH from my IP, open app port)
* [ ] SSH into instance (`chmod 400` then `ssh -i key.pem ubuntu@IP`)
* [ ] Update packages (`sudo apt update && sudo apt upgrade -y`)
* [ ] Install Node & npm, create project folder
* [ ] Transfer files with `scp` or `git clone`
* [ ] `npm install` and run app (consider pm2)
* [ ] Test from browser with `http://<IP>:<PORT>`

---
# Part 2
---
# **AWS EC2 & Server Deployment Guide**  
*A Beginner-Friendly, Step-by-Step Reference*

---

## **1. Introduction to Key Concepts**

### **What is DevOps?**  
DevOps is a set of practices that combines software **Development** (Dev) and IT **Operations** (Ops). It aims to shorten the development lifecycle and provide continuous delivery of high-quality software. Key principles include **automation**, **collaboration**, and **monitoring**.

### **What is EC2?**  
**Amazon Elastic Compute Cloud (EC2)** is a web service that provides resizable, virtual servers (called **instances**) in the cloud. It allows you to run applications on AWS’s infrastructure without needing to purchase physical hardware.

---

## **2. IAM User Setup (Security Best Practice)**  
*Never use the root account for daily tasks. Always create an IAM user with limited permissions.*

### **Step-by-Step IAM Setup:**

1. **Log into AWS Management Console**  
   - Use your root account credentials (only for initial setup).

2. **Navigate to IAM**  
   - Search for “IAM” in the services menu.

3. **Create a User Group**  
   - Go to **User Groups** → **Create New Group**.  
   - Name the group (e.g., `EC2-Admins`).  
   - Attach the policy: **AmazonEC2FullAccess**.  
   - Click **Create Group**.

4. **Create an IAM User**  
   - Go to **Users** → **Add Users**.  
   - Enter a username (e.g., `dev-user`).  
   - Select **Provide user access to the AWS Management Console**.  
   - Choose **I want to create an IAM user**.  
   - Set a custom password (uncheck “Require password reset” if desired).  
   - In the permissions step, add the user to the previously created group (`EC2-Admins`).  
   - Proceed through remaining steps and create the user.

5. **Retrieve Login Credentials**  
   - After creation, go to the user’s **Security Credentials** tab.  
   - Note the **Console sign-in URL** (unique to your account).  
   - Save the **username** and **password** securely.  
   - Use these credentials for all future logins (instead of root).

---

## **3. Launching an EC2 Instance**

1. **Log in as IAM User**  
   - Use the custom sign-in URL and credentials from Step 2.

2. **Navigate to EC2**  
   - From the AWS Services menu, select **EC2**.

3. **Select Region**  
   - Choose a region close to your users (e.g., **Asia Pacific (Mumbai)**).  
   - *Note: Resources are region-specific.*

4. **Launch Instance**  
   - Click **Instances** → **Launch Instance**.

5. **Configure Instance Details**  
   - **Name**: Give a descriptive name (e.g., `web-server-1`).  
   - **AMI**: Choose **Ubuntu** (free tier eligible).  
   - **Instance Type**: Select `t2.micro` (free tier).  
   - **Key Pair**: Create a new key pair (name: `ec2-key`).  
     - Select **RSA** and **.pem** format (for Linux/Mac).  
     - Download the `.pem` file and store it securely.  
   - **Network Settings**:  
     - Allow **SSH** (port 22) from your IP.  
     - Allow **HTTP** (port 80) from anywhere (`0.0.0.0/0`).  
   - Keep other settings default.

6. **Launch**  
   - Review and click **Launch Instance**.

---

## **4. Connecting to the EC2 Instance via SSH**

### **For Linux/Mac:**

1. **Open Terminal**  
2. **Secure Your Key File**  
   ```bash
   chmod 400 /path/to/ec2-key.pem
   ```
3. **Connect**  
   - Go to **EC2 Dashboard** → **Instances** → Select your instance → **Connect**.  
   - Copy the SSH command from the **SSH client** tab (looks like):  
     ```bash
     ssh -i "ec2-key.pem" ubuntu@ec2-xx-xxx-xxx-xxx.compute-1.amazonaws.com
     ```
   - Paste and run it in your terminal.  
   - Type `yes` if prompted about authenticity.

### **For Windows:**  
Use **PuTTY** (convert `.pem` to `.ppk` using PuTTYgen) or **Windows Subsystem for Linux (WSL)**.

---

## **5. Essential Linux Commands for Beginners**
Once connected via SSH:
- `pwd` – Show current directory.
- `ls` – List files/folders.
- `cd <directory>` – Change directory.
- `mkdir <name>` – Create a directory.
- `nano <file>` – Edit a file (Ctrl+X to exit).
- `cat <file>` – Display file content.
- `sudo <command>` – Run command as superuser.
- `apt update` – Update package list.
- `apt upgrade` – Upgrade installed packages.

---

## **6. Setting Up a Node.js Server on EC2**

### **Step 1: Update System & Install Node.js**
```bash
sudo apt update
sudo apt upgrade -y
sudo apt install nodejs npm -y
node --version
npm --version
```

### **Step 2: Create Project Directory**
```bash
mkdir project
cd project
```

### **Step 3: Create a Basic Node.js Server**
Locally, create `server.js`:
```javascript
const http = require('http');
const server = http.createServer((req, res) => {
    res.writeHead(200, { 'Content-Type': 'text/html' });
    res.end('<h1>Hello from EC2!</h1>');
});
server.listen(3000, () => {
    console.log('Server running on port 3000');
});
```
And `package.json`:
```json
{
  "name": "ec2-server",
  "version": "1.0.0",
  "description": "Test server",
  "main": "server.js",
  "scripts": {
    "start": "node server.js"
  },
  "dependencies": {}
}
```

### **Step 4: Transfer Files to EC2**
From your **local terminal** (not SSH session):
```bash
scp -i "ec2-key.pem" ./server.js ubuntu@<EC2_PUBLIC_IP>:/home/ubuntu/project/
scp -i "ec2-key.pem" ./package.json ubuntu@<EC2_PUBLIC_IP>:/home/ubuntu/project/
```
Replace `<EC2_PUBLIC_IP>` with your instance’s public IP.

### **Step 5: Run the Server on EC2**
Back in your **SSH session**:
```bash
cd /home/ubuntu/project
npm install
node server.js
```
The server is now running on port 3000 (but not yet accessible publicly).

---

## **7. Configuring Security Groups for Public Access**

1. **Go to EC2 Dashboard** → **Instances** → Select your instance.
2. Under **Security** tab, click the **Security Group** link (e.g., `launch-wizard-1`).
3. Click **Edit Inbound Rules** → **Add Rule**.
4. Configure:  
   - **Type**: Custom TCP  
   - **Port Range**: `3000` (or your server’s port)  
   - **Source**: `0.0.0.0/0` (anywhere) or restrict to your IP for security.
5. **Save Rules**.

---

## **8. Access Your Server via Browser**
- Get your instance’s **Public IPv4 Address** from the EC2 console.
- In a browser, visit:  
  `http://<PUBLIC_IP>:3000`  
  You should see “Hello from EC2!”

---

## **9. Keeping the Server Running After SSH Disconnect**
Use a process manager like **PM2**:
```bash
sudo npm install -g pm2
pm2 start server.js
pm2 startup  # Sets up auto-start on boot
pm2 save
```
Now your server runs persistently.

---

## **Key Takeaways & Best Practices**
- **Always use IAM users** (never root for daily tasks).
- **Secure your .pem key** (never share or commit to version control).
- **Restrict security group rules** to specific IPs where possible.
- **Regularly update your instance** (`sudo apt update && sudo apt upgrade`).
- **Use PM2 or systemd** for production process management.
- **Monitor costs** via AWS Billing Dashboard (free tier has limits).

---